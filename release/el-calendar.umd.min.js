/**
 * @preserve
 * @mrhanson/el-calendar v0.1.2
 */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self)["el-calendar"]=n()}(this,function(){"use strict";function A(r,n){var t=r%4==0&&r%100!=0||r%400==0;switch(n){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return t?29:28}}var r={name:"Calendar",props:{value:{type:Date,default:function(){return new Date}},today:{type:Date,default:function(){return new Date}},weekText:{type:Array,default:function(){return["日","一","二","三","四","五","六"]}},bannerYearText:{type:String,default:"年"},bannerMonthText:{type:String,default:"月"},markArr:{type:Array,default:function(){return[]}},comment:{type:String,default:""}},data:function(){return{curYear:(new Date).getFullYear(),curMonth:(new Date).getMonth()+1,curDay:(new Date).getDay(),curDate:(new Date).getDate(),monthArr:[]}},watch:{markArr:{deep:!0,immediate:!0,handler:function(){this._updateMonthArr()}}},created:function(){this.curYear=this.value.getFullYear(),this.curMonth=this.value.getMonth()+1,this.curDay=this.value.getDay(),this.curDate=this.value.getDate(),this._updateMonthArr()},methods:{backToToday:function(){this.curYear=this.today.getFullYear(),this.curMonth=this.today.getMonth()+1,this.$emit("input",new Date(this.curYear,this.curMonth-1,this.today.getDate())),this._updateMonthArr()},toPreMonth:function(){1===this.curMonth?(this.curYear=this.curYear-1,this.curMonth=12):this.curMonth=this.curMonth-1,this._updateMonthArr(),this.$emit("premonth",{year:this.curYear,month:this.curMonth})},toNextMonth:function(){12===this.curMonth?(this.curYear=this.curYear+1,this.curMonth=1):this.curMonth=this.curMonth+1,this._updateMonthArr(),this.$emit("nextmonth",{year:this.curYear,month:this.curMonth})},toSpecificDate:function(r,n,t){var e=parseInt(r),a=parseInt(n),i=parseInt(t);!function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return Array.prototype.map.call(r,function(r){return isNaN(r)})}(e,a,i).some(function(r){return!0===r})&&(this.curYear=e,this.curMonth=a,this._updateMonthArr(),this.$emit("input",new Date(e,a-1,i)))},_handleItemSelect:function(r){1===r.monthFlag||(0===r.monthFlag?this.toPreMonth():this.toNextMonth()),this.$emit("input",new Date(this.curYear,this.curMonth-1,r.date))},_getDateArr:function(t,r,e){var a=this;if(void 0===t&&(t=1),void 0===r&&(r=31),void 0===e&&(e=1),r<t)return[];var i=this.curMonth,o=this.curYear;return 0===e?1===this.curMonth?(i=12,o=this.curYear-1):i=this.curMonth-1:2===e&&(12===this.curMonth?(i=1,o=this.curYear+1):i=this.curMonth+1),new Array(r-t+1).fill().map(function(r,n){return{val:o+"-"+i+"-"+(n+t),date:n+t,monthFlag:e,marked:1===e&&a.markArr[n],isToday:a._getDateStr(a.today)===o+"-"+i+"-"+(n+t)}})},_updateMonthArr:function(){var r;r=1===this.curMonth?A(this.curYear-1,12):A(this.curYear,this.curMonth-1);var n,t,e,a=(n=this.curYear,t=this.curMonth,new Date(n,t-(e=1),e).getDay()),i=this._getDateArr(r-a+1,r,0),o=this._getDateArr(1,A(this.curYear,this.curMonth),1),s=this._getDateArr(1,A(this.curYear,this.curMonth+1),2);this.monthArr=i.concat(o).concat(s).slice(0,42)},_getDateStr:function(r){return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()}}};var c,h="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var u={};function n(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"calendar"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"arrow arrow-left",on:{click:t.toPreMonth}}),t._v(" "),e("span",[t._v(t._s(t.curYear+t.bannerYearText))]),t._v(" "),e("span",[t._v(t._s(t.curMonth+t.bannerMonthText))]),t._v(" "),e("div",{staticClass:"arrow arrow-right",on:{click:t.toNextMonth}})]),t._v(" "),e("div",{staticClass:"week-text"},t._l(t.weekText,function(r){return e("div",{key:r,staticClass:"date-item date-item__week"},[t._v("\n      "+t._s(r)+"\n    ")])}),0),t._v(" "),e("div",t._l(t.monthArr,function(r,n){return e("div",{key:"cur"+n,staticClass:"date-item",on:{click:function(){return t._handleItemSelect(r)}}},[e("span",{class:{"current-month":1===r.monthFlag,today:r.isToday,"is-selected":1===r.monthFlag&&r.val===t.value.getFullYear()+"-"+(t.value.getMonth()+1)+"-"+t.value.getDate(),"is-marked":r.marked}},[t._v("\n        "+t._s(r.date)+"\n      ")])])}),0),t._v(" "),e("div",{staticClass:"comment"},[t._v("\n    "+t._s(t.comment)+"\n  ")])])}var t=r;n._withStripped=!0;return function(r,n,t,e,a,i,o,s,A,c){"boolean"!=typeof o&&(A=s,s=o,o=!1);var h,u="function"==typeof t?t.options:t;if(r&&r.render&&(u.render=r.render,u.staticRenderFns=r.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),e&&(u._scopeId=e),i?(h=function(r){(r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(r=__VUE_SSR_CONTEXT__),n&&n.call(this,A(r)),r&&r._registeredComponents&&r._registeredComponents.add(i)},u._ssrRegister=h):n&&(h=o?function(r){n.call(this,c(r,this.$root.$options.shadowRoot))}:function(r){n.call(this,s(r))}),h)if(u.functional){var d=u.render;u.render=function(r,n){return h.call(n),d(r,n)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,h):[h]}return t}({render:n,staticRenderFns:[]},function(r){r&&r("data-v-1a0a4c24_0",{source:"\n.calendar {\r\n  box-sizing: border-box;\r\n  width: 400px;\r\n  padding: 18px;\r\n  color: #000;\n}\n.calendar span {\r\n  font-size: 16px;\r\n  line-height: 16px;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\n}\n.calendar .banner {\r\n  font-size: 0;\r\n  line-height: 16px;\r\n  text-align: center;\n}\n.arrow {\r\n  display: inline-block;\r\n  width: 0;\r\n  height: 0;\r\n  cursor: pointer;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  border-top: 8px solid transparent;\r\n  border-bottom: 8px solid transparent;\n}\n.arrow-left {\r\n  margin-right: 16px;\r\n  border-right: 8px solid #409eff;\r\n  border-left: 8px solid transparent;\n}\n.arrow-right {\r\n  margin-left: 16px;\r\n  border-right: 8px solid transparent;\r\n  border-left: 8px solid #409eff;\n}\n.calendar .date-item {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  width: 52px;\r\n  height: 52px;\r\n  line-height: 52px;\r\n  color: #c0c4cc;\r\n  text-align: center;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\n}\n.calendar .date-item span {\r\n  box-sizing: content-box;\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 8px;\r\n  margin: 6px;\n}\n.calendar .date-item__week {\r\n  color: #000 !important;\n}\n.calendar .current-month {\r\n  color: #000 !important;\n}\n.calendar .current-month:hover {\r\n  cursor: pointer;\r\n  background-color: #f2f8fe;\r\n  border-radius: 50%;\n}\n.calendar .today {\r\n  color: #409eff !important;\n}\n.calendar .is-selected {\r\n  color: #fff !important;\r\n  background-color: #409eff !important;\r\n  border-radius: 50%;\n}\n.calendar .is-marked::after {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  content: '';\r\n  border: 1.5px solid #000;\r\n  border-radius: 50%;\r\n  transform: translateX(-50%);\n}\n.calendar .comment {\r\n  padding: 16px;\r\n  color: #c0c4cc;\n}\r\n",map:{version:3,sources:["d:\\WebS\\el-calendar\\src\\Calendar.vue"],names:[],mappings:";AAuPA;EACA,sBAAA;EACA,YAAA;EACA,aAAA;EACA,WAAA;AACA;AAEA;EACA,eAAA;EACA,iBAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;AACA;AACA;EACA,qBAAA;EACA,QAAA;EACA,SAAA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;EACA,iCAAA;EACA,oCAAA;AACA;AACA;EACA,kBAAA;EACA,+BAAA;EACA,kCAAA;AACA;AAEA;EACA,iBAAA;EACA,mCAAA;EACA,8BAAA;AACA;AAEA;EACA,kBAAA;EACA,sBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;EACA,cAAA;EACA,kBAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AACA;AAEA;EACA,uBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,WAAA;AACA;AAEA;EACA,sBAAA;AACA;AAEA;EACA,sBAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;EACA,kBAAA;AACA;AAEA;EACA,yBAAA;AACA;AAEA;EACA,sBAAA;EACA,oCAAA;EACA,kBAAA;AACA;AAEA;EACA,kBAAA;EACA,YAAA;EACA,SAAA;EACA,WAAA;EACA,wBAAA;EACA,kBAAA;EACA,2BAAA;AACA;AAEA;EACA,aAAA;EACA,cAAA;AACA",file:"Calendar.vue",sourcesContent:["<template>\r\n  <div class=\"calendar\">\r\n    <div class=\"banner\">\r\n      <div class=\"arrow arrow-left\" @click=\"toPreMonth\"></div>\r\n      <span>{{ curYear + bannerYearText }}</span>\r\n      <span>{{ curMonth + bannerMonthText }}</span>\r\n      <div class=\"arrow arrow-right\" @click=\"toNextMonth\"></div>\r\n    </div>\r\n    <div class=\"week-text\">\r\n      <div v-for=\"text in weekText\" :key=\"text\" class=\"date-item date-item__week\">\r\n        {{ text }}\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <div\r\n        v-for=\"(item, j) in monthArr\"\r\n        :key=\"'cur' + j\"\r\n        class=\"date-item\"\r\n        @click=\"() => _handleItemSelect(item)\"\r\n      >\r\n        <span\r\n          :class=\"{\r\n            'current-month': item.monthFlag === 1,\r\n            today: item.isToday,\r\n            'is-selected':\r\n              item.monthFlag === 1 &&\r\n              item.val === `${value.getFullYear()}-${value.getMonth() + 1}-${value.getDate()}`,\r\n            'is-marked': item.marked\r\n          }\"\r\n        >\r\n          {{ item.date }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"comment\">\r\n      {{ comment }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nfunction getMonthMaxDate(year, month) {\r\n  const isGapYear = (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0\r\n  switch (month) {\r\n    case 1:\r\n    case 3:\r\n    case 5:\r\n    case 7:\r\n    case 8:\r\n    case 10:\r\n    case 12:\r\n      return 31\r\n    case 4:\r\n    case 6:\r\n    case 9:\r\n    case 11:\r\n      return 30\r\n    case 2:\r\n      return isGapYear ? 29 : 28\r\n  }\r\n}\r\n\r\nfunction getDayOfWeek(year, month, date) {\r\n  return new Date(year, month - 1, date).getDay()\r\n}\r\n\r\nfunction isNaNs(...args) {\r\n  return Array.prototype.map.call(args, item => isNaN(item))\r\n}\r\n\r\nexport default {\r\n  name: 'Calendar',\r\n\r\n  props: {\r\n    value: {\r\n      type: Date,\r\n      default: () => new Date()\r\n    },\r\n    today: {\r\n      type: Date,\r\n      default: () => new Date()\r\n    },\r\n    weekText: {\r\n      type: Array,\r\n      default: () => ['日', '一', '二', '三', '四', '五', '六']\r\n    },\r\n    bannerYearText: {\r\n      type: String,\r\n      default: '年'\r\n    },\r\n    bannerMonthText: {\r\n      type: String,\r\n      default: '月'\r\n    },\r\n    // Notice：markArr为boolean数组，长度必须与当前月最大日相等\r\n    markArr: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    comment: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      curYear: new Date().getFullYear(),\r\n      curMonth: new Date().getMonth() + 1,\r\n      curDay: new Date().getDay(),\r\n      curDate: new Date().getDate(),\r\n      monthArr: []\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    markArr: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler() {\r\n        this._updateMonthArr()\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    // set current moment\r\n    this.curYear = this.value.getFullYear()\r\n    this.curMonth = this.value.getMonth() + 1\r\n    this.curDay = this.value.getDay()\r\n    this.curDate = this.value.getDate()\r\n\r\n    this._updateMonthArr()\r\n  },\r\n\r\n  methods: {\r\n    backToToday() {\r\n      this.curYear = this.today.getFullYear()\r\n      this.curMonth = this.today.getMonth() + 1\r\n      this.$emit('input', new Date(this.curYear, this.curMonth - 1, this.today.getDate()))\r\n      this._updateMonthArr()\r\n    },\r\n    toPreMonth() {\r\n      if (this.curMonth === 1) {\r\n        this.curYear = this.curYear - 1\r\n        this.curMonth = 12\r\n      } else {\r\n        this.curMonth = this.curMonth - 1\r\n      }\r\n      this._updateMonthArr()\r\n      this.$emit('premonth', { year: this.curYear, month: this.curMonth })\r\n    },\r\n    toNextMonth() {\r\n      if (this.curMonth === 12) {\r\n        this.curYear = this.curYear + 1\r\n        this.curMonth = 1\r\n      } else {\r\n        this.curMonth = this.curMonth + 1\r\n      }\r\n      this._updateMonthArr()\r\n      this.$emit('nextmonth', { year: this.curYear, month: this.curMonth })\r\n    },\r\n    toSpecificDate(year, month, date) {\r\n      // v0.1.2 fix bug: params of toSpecificDate must be integer\r\n      const intYear = parseInt(year)\r\n      const intMonth = parseInt(month)\r\n      const intDate = parseInt(date)\r\n      if (isNaNs(intYear, intMonth, intDate).some(item => item === true)) return\r\n\r\n      this.curYear = intYear\r\n      this.curMonth = intMonth\r\n      this._updateMonthArr()\r\n      this.$emit('input', new Date(intYear, intMonth - 1, intDate))\r\n    },\r\n    _handleItemSelect(item) {\r\n      if (item.monthFlag === 1) {\r\n        this.$emit('input', new Date(this.curYear, this.curMonth - 1, item.date))\r\n      } else if (item.monthFlag === 0) {\r\n        this.toPreMonth()\r\n        this.$emit('input', new Date(this.curYear, this.curMonth - 1, item.date))\r\n      } else {\r\n        this.toNextMonth()\r\n        this.$emit('input', new Date(this.curYear, this.curMonth - 1, item.date))\r\n      }\r\n    },\r\n    // monthFlag: 0 previous month, 1 current month, 2 next month\r\n    _getDateArr(beginDate = 1, endDate = 31, monthFlag = 1) {\r\n      if (beginDate > endDate) {\r\n        return []\r\n      }\r\n\r\n      let tarMonth = this.curMonth\r\n      let tarYear = this.curYear\r\n      if (monthFlag === 0) {\r\n        if (this.curMonth === 1) {\r\n          tarMonth = 12\r\n          tarYear = this.curYear - 1\r\n        } else {\r\n          tarMonth = this.curMonth - 1\r\n        }\r\n      } else if (monthFlag === 2) {\r\n        if (this.curMonth === 12) {\r\n          tarMonth = 1\r\n          tarYear = this.curYear + 1\r\n        } else {\r\n          tarMonth = this.curMonth + 1\r\n        }\r\n      }\r\n\r\n      return new Array(endDate - beginDate + 1).fill().map((_, index) => ({\r\n        val: `${tarYear}-${tarMonth}-${index + beginDate}`,\r\n        date: index + beginDate,\r\n        monthFlag,\r\n        marked: monthFlag === 1 && this.markArr[index],\r\n        isToday: this._getDateStr(this.today) === `${tarYear}-${tarMonth}-${index + beginDate}`\r\n      }))\r\n    },\r\n    _updateMonthArr() {\r\n      let maxDateOfPreMonth\r\n      if (this.curMonth === 1) {\r\n        maxDateOfPreMonth = getMonthMaxDate(this.curYear - 1, 12)\r\n      } else {\r\n        maxDateOfPreMonth = getMonthMaxDate(this.curYear, this.curMonth - 1)\r\n      }\r\n      const firstDayOfCurMonth = getDayOfWeek(this.curYear, this.curMonth, 1)\r\n      const preMonthArr = this._getDateArr(\r\n        maxDateOfPreMonth - firstDayOfCurMonth + 1,\r\n        maxDateOfPreMonth,\r\n        0\r\n      )\r\n      const curMonthArr = this._getDateArr(1, getMonthMaxDate(this.curYear, this.curMonth), 1)\r\n      const nextMonthArr = this._getDateArr(1, getMonthMaxDate(this.curYear, this.curMonth + 1), 2)\r\n\r\n      // 6 line max: 6 * 7 = 42\r\n      this.monthArr = preMonthArr\r\n        .concat(curMonthArr)\r\n        .concat(nextMonthArr)\r\n        .slice(0, 42)\r\n    },\r\n    _getDateStr(date) {\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style>\r\n.calendar {\r\n  box-sizing: border-box;\r\n  width: 400px;\r\n  padding: 18px;\r\n  color: #000;\r\n}\r\n\r\n.calendar span {\r\n  font-size: 16px;\r\n  line-height: 16px;\r\n  user-select: none;\r\n}\r\n\r\n.calendar .banner {\r\n  font-size: 0;\r\n  line-height: 16px;\r\n  text-align: center;\r\n}\r\n.arrow {\r\n  display: inline-block;\r\n  width: 0;\r\n  height: 0;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  border-top: 8px solid transparent;\r\n  border-bottom: 8px solid transparent;\r\n}\r\n.arrow-left {\r\n  margin-right: 16px;\r\n  border-right: 8px solid #409eff;\r\n  border-left: 8px solid transparent;\r\n}\r\n\r\n.arrow-right {\r\n  margin-left: 16px;\r\n  border-right: 8px solid transparent;\r\n  border-left: 8px solid #409eff;\r\n}\r\n\r\n.calendar .date-item {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  display: inline-block;\r\n  width: 52px;\r\n  height: 52px;\r\n  line-height: 52px;\r\n  color: #c0c4cc;\r\n  text-align: center;\r\n  user-select: none;\r\n}\r\n\r\n.calendar .date-item span {\r\n  box-sizing: content-box;\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 8px;\r\n  margin: 6px;\r\n}\r\n\r\n.calendar .date-item__week {\r\n  color: #000 !important;\r\n}\r\n\r\n.calendar .current-month {\r\n  color: #000 !important;\r\n}\r\n\r\n.calendar .current-month:hover {\r\n  cursor: pointer;\r\n  background-color: #f2f8fe;\r\n  border-radius: 50%;\r\n}\r\n\r\n.calendar .today {\r\n  color: #409eff !important;\r\n}\r\n\r\n.calendar .is-selected {\r\n  color: #fff !important;\r\n  background-color: #409eff !important;\r\n  border-radius: 50%;\r\n}\r\n\r\n.calendar .is-marked::after {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  content: '';\r\n  border: 1.5px solid #000;\r\n  border-radius: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.calendar .comment {\r\n  padding: 16px;\r\n  color: #c0c4cc;\r\n}\r\n</style>\r\n"]},media:void 0})},t,void 0,!1,void 0,!1,function(r){return function(r,n){return function(r,n){var t=h?n.media||"default":r,e=u[t]||(u[t]={ids:new Set,styles:[]});if(!e.ids.has(r)){e.ids.add(r);var a=n.source;if(n.map&&(a+="\n/*# sourceURL="+n.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),e.element||(e.element=document.createElement("style"),e.element.type="text/css",n.media&&e.element.setAttribute("media",n.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(e.element)),"styleSheet"in e.element)e.styles.push(a),e.element.styleSheet.cssText=e.styles.filter(Boolean).join("\n");else{var i=e.ids.size-1,o=document.createTextNode(a),s=e.element.childNodes;s[i]&&e.element.removeChild(s[i]),s.length?e.element.insertBefore(o,s[i]):e.element.appendChild(o)}}}(r,n)}},void 0,void 0)});
